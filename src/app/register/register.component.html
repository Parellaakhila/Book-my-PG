<body>
  <div class="card">
    <div class="register-container">
      <h2 align="center">Register</h2>

      <!-- Display message -->
      <div *ngIf="message" [ngClass]="messageClass" class="message">{{ message }}</div>

      <!-- Registration Form -->
      <form (ngSubmit)="register()" #registerForm="ngForm" novalidate>
        <!-- Username Field -->
        <div class="form-group">
          <label for="username">Username</label>
          <input 
            type="text" 
            id="username" 
            name="username" 
            [(ngModel)]="username" 
            required
            minlength="3"
            maxlength="20"
            pattern="^[a-zA-Z0-9]+$"
            #usernameCtrl="ngModel">
          
          <!-- Username validation errors -->
          <div *ngIf="usernameCtrl.invalid && (usernameCtrl.dirty || usernameCtrl.touched)" class="error">
            <small *ngIf="usernameCtrl.errors?.['required']">Username is required.</small>
            <small *ngIf="usernameCtrl.errors?.['minlength']">Username must be at least 3 characters long.</small>
            <small *ngIf="usernameCtrl.errors?.['maxlength']">Username cannot be more than 20 characters long.</small>
            <small *ngIf="usernameCtrl.errors?.['pattern']">Username can only contain letters and numbers.</small>
          </div>
        </div>
        
        <!-- Email Field -->
        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            name="email" 
            [(ngModel)]="email" 
            required
            email
            pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$"
            #emailCtrl="ngModel">
         
          <!-- Email validation errors -->
          <div *ngIf="emailCtrl.invalid && (emailCtrl.dirty || emailCtrl.touched)" class="error">
            <small *ngIf="emailCtrl.errors?.['required']">Email is required.</small>
            <small *ngIf="emailCtrl.errors?.['email']">Please enter a valid email address.</small>
            <small *ngIf="emailCtrl.errors?.['pattern']">Please enter a valid email format (e.g., user&#64;example.com).</small>
          </div>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="password">Password</label>
          <input 
            type="password" 
            id="password" 
            name="password" 
            [(ngModel)]="password" 
            required
            minlength="8"
            pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$"
            #passwordCtrl="ngModel">
          
          <!-- Password validation errors -->
          <div *ngIf="passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched)" class="error">
            <small *ngIf="passwordCtrl.errors?.['required']">Password is required.</small>
            <small *ngIf="passwordCtrl.errors?.['minlength']">Password must be at least 8 characters long.</small>
            <small *ngIf="passwordCtrl.errors?.['pattern']">Password must contain at least one letter and one number.</small>
          </div>
        </div>

        <!-- Confirm Password Field -->
        
        
        <!-- Register Button -->
        <button type="submit" [disabled]="registerForm.invalid">Register</button>
        <p>Already have an account? <a routerLink="/login">Login here</a></p>
      </form>
    </div>
  </div>
</body>
